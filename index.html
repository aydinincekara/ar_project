<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8">
    <title>Yüzey Numaralandırma Testi</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    
    <script>
        // Sadece döndürme kontrolü (Sürükle bırak)
        AFRAME.registerComponent('kontrol', {
            schema: { speed: { default: 2.5 }, friction: { default: 0.95 } },
            init: function () {
                this.ifMouseDown = false;
                this.x_cord = 0;
                this.y_cord = 0;
                this.velocityX = 0;
                this.velocityY = 0;
                document.addEventListener('mousedown', this.onStart.bind(this));
                document.addEventListener('mouseup', this.onEnd.bind(this));
                document.addEventListener('mousemove', this.onMove.bind(this));
            },
            onStart: function (e) { this.ifMouseDown = true; this.x_cord = e.clientX; this.y_cord = e.clientY; },
            onEnd: function () { this.ifMouseDown = false; },
            onMove: function (e) {
                if (this.ifMouseDown) {
                    var temp_x = e.clientX - this.x_cord;
                    var temp_y = e.clientY - this.y_cord;
                    this.velocityY = temp_x * this.data.speed / 250;
                    this.velocityX = temp_y * this.data.speed / 250;
                    this.x_cord = e.clientX;
                    this.y_cord = e.clientY;
                }
            },
            tick: function () {
                if (!this.ifMouseDown) {
                    this.velocityX *= this.data.friction;
                    this.velocityY *= this.data.friction;
                    this.el.object3D.rotation.y += this.velocityY;
                    this.el.object3D.rotation.x += this.velocityX;
                }
            }
        });
    </script>
</head>

<body style="margin:0; overflow:hidden; background:black;">

    <div style="position:fixed; top:20px; width:100%; text-align:center; color:white; font-family:sans-serif; pointer-events:none; z-index:99;">
        <h1>YÜZEY NUMARALARI</h1>
        <p>Küpü çevir ve hangi numaraya ne geleceğini not al.</p>
    </div>

    <a-scene background="color: #222">
        <a-light type="ambient" intensity="0.5"></a-light>
        <a-light type="directional" position="2 4 3" intensity="1.5"></a-light>

        <a-assets>
            <a-asset-item id="kupu" src="egitim_kupu.glb"></a-asset-item>
        </a-assets>

        <a-entity id="donen-merkez" position="0 0 -4" kontrol>
            
            <a-entity gltf-model="#kupu" scale="0.5 0.5 0.5"></a-entity>

            <a-plane position="0 0 0.51" width="0.8" height="0.8" color="red" opacity="0.8">
                <a-text value="1" align="center" width="10"></a-text>
                <a-text value="ON" align="center" position="0 -0.3 0" width="4"></a-text>
            </a-plane>

            <a-plane position="0.51 0 0" rotation="0 90 0" width="0.8" height="0.8" color="green" opacity="0.8">
                <a-text value="2" align="center" width="10"></a-text>
                <a-text value="SAG" align="center" position="0 -0.3 0" width="4"></a-text>
            </a-plane>

            <a-plane position="0 0 -0.51" rotation="0 180 0" width="0.8" height="0.8" color="blue" opacity="0.8">
                <a-text value="3" align="center" width="10"></a-text>
                <a-text value="ARKA" align="center" position="0 -0.3 0" width="4"></a-text>
            </a-plane>

            <a-plane position="-0.51 0 0" rotation="0 -90 0" width="0.8" height="0.8" color="#f1c40f" opacity="0.8">
                <a-text value="4" align="center" width="10"></a-text>
                <a-text value="SOL" align="center" position="0 -0.3 0" width="4"></a-text>
            </a-plane>

            <a-plane position="0 0.51 0" rotation="-90 0 0" width="0.8" height="0.8" color="orange" opacity="0.8">
                <a-text value="5" align="center" width="10"></a-text>
                <a-text value="UST" align="center" position="0 -0.3 0" width="4"></a-text>
            </a-plane>

            <a-plane position="0 -0.51 0" rotation="90 0 0" width="0.8" height="0.8" color="purple" opacity="0.8">
                <a-text value="6" align="center" width="10"></a-text>
                <a-text value="ALT" align="center" position="0 -0.3 0" width="4"></a-text>
            </a-plane>

        </a-entity>

        <a-camera position="0 0 0"></a-camera>
    </a-scene>
</body>
</html>
